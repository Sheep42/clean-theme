"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jquery=_interopRequireDefault(require("jquery")),_util=_interopRequireDefault(require("./util"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var NAME="alert",VERSION="4.4.1",DATA_KEY="bs.alert",EVENT_KEY=".".concat(DATA_KEY),DATA_API_KEY=".data-api",JQUERY_NO_CONFLICT=_jquery.default.fn[NAME],Selector={DISMISS:'[data-dismiss="alert"]'},Event={CLOSE:"close".concat(EVENT_KEY),CLOSED:"closed".concat(EVENT_KEY),CLICK_DATA_API:"click".concat(EVENT_KEY).concat(DATA_API_KEY)},ClassName={ALERT:"alert",FADE:"fade",SHOW:"show"},Alert=function(){function e(t){_classCallCheck(this,e),this._element=t}return _createClass(e,[{key:"close",value:function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)}},{key:"dispose",value:function(){_jquery.default.removeData(this._element,DATA_KEY),this._element=null}},{key:"_getRootElement",value:function(e){var t=_util.default.getSelectorFromElement(e),r=!1;return t&&(r=document.querySelector(t)),r||(r=(0,_jquery.default)(e).closest(".".concat(ClassName.ALERT))[0]),r}},{key:"_triggerCloseEvent",value:function(e){var t=_jquery.default.Event(Event.CLOSE);return(0,_jquery.default)(e).trigger(t),t}},{key:"_removeElement",value:function(e){var t=this;if((0,_jquery.default)(e).removeClass(ClassName.SHOW),(0,_jquery.default)(e).hasClass(ClassName.FADE)){var r=_util.default.getTransitionDurationFromElement(e);(0,_jquery.default)(e).one(_util.default.TRANSITION_END,function(r){return t._destroyElement(e,r)}).emulateTransitionEnd(r)}else this._destroyElement(e)}},{key:"_destroyElement",value:function(e){(0,_jquery.default)(e).detach().trigger(Event.CLOSED).remove()}}],[{key:"_jQueryInterface",value:function(t){return this.each(function(){var r=(0,_jquery.default)(this),n=r.data(DATA_KEY);n||(n=new e(this),r.data(DATA_KEY,n)),"close"===t&&n[t](this)})}},{key:"_handleDismiss",value:function(e){return function(t){t&&t.preventDefault(),e.close(this)}}},{key:"VERSION",get:function(){return VERSION}}]),e}();(0,_jquery.default)(document).on(Event.CLICK_DATA_API,Selector.DISMISS,Alert._handleDismiss(new Alert)),_jquery.default.fn[NAME]=Alert._jQueryInterface,_jquery.default.fn[NAME].Constructor=Alert,_jquery.default.fn[NAME].noConflict=function(){return _jquery.default.fn[NAME]=JQUERY_NO_CONFLICT,Alert._jQueryInterface};var _default=Alert;exports.default=_default;